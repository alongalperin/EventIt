<!DOCTYPE html>
<html>
<head>
    <title>Guest Page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
    <link rel="stylesheet" type="text/css" href="style/guestPage.css">
    <link rel="stylesheet" type="text/css" href="style/playlist.css">
    <link rel="icon" type="image/png" href="./img/favicon.png"/>
</head>
<body>
    <div id="main-div" class="container">
        <div id="app">
            <h1>Hi {{lastname}} {{firstname}}, we invite you to our event</h1>
            <h2>{{ eventName }}</h2>
            <h2>{{ time }}</h2>
            <h2>{{ address }}</h2>

            <!-- status buttons -->
            <div class="answer-buttons">
                <strong v-if="status == 'unknown'">Please reply:</strong><br/>
                <button
                    class="btnStatus"
                    v-bind:class="{ going: status === 'going' }"
                    v-on:click="updateStatus('going')">Coming</button>
                <button
                    class="btnStatus ml-2 mr-2"
                    v-bind:class="{ notSure: status === 'notSure' }"
                    v-on:click="updateStatus('notSure')">Not Sure</button>
                <button 
                    class="btnStatus"
                    v-bind:class="{ notGoing: status === 'notGoing' }"
                    v-on:click="updateStatus('notGoing')">Not Coming</button>
            </div>

            <!--The div element for the map -->
            <div id="map"></div>
            <br/>

            <!-- playlist -->
            <div id="flip">Want to help with the playlist?</div>
            <div id="playlistPanel">
                Please paste here Youtube link: <br/>
                <input 
                  id="youtubeInput"
                  type="text">
                <button id="playlist-submit" onclick="sendSong()">Add</button>
                <br/>
                <ul v-if="songs.length > 0">
                    <li v-for="(song, index) in songs">
                        <!-- The flexible grid (content) -->
                        <div class="row">
                            <div class="num">
                                {{index + 1}}
                            </div>
                            <div class="side">
                                <img class="songimg" v-bind:src="song.thumbnails"/>
                            </div>
                            <div class="songData" style="text-align:left">
                                <h3>{{song.title}}</h3>
                                <p>
                                    <button v-on:click="changeCounter(song)"
                                        v-bind:class="{ going: song.isUserLiked === true }">Like
                                    </button>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; likes: {{song.likecounter}}
                                </p>
                            </div>
                        </div>
                    </li>
                </ul>
            </div> <!-- end of Playlist -->
        </div>
    </div>

    <script src="JS/libs/jquery-3.3.1.min.js"></script>
    <script src="JS/libs/bootstrap.min.js"></script>
    <script src="https://unpkg.com/vue"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCdqzL7mrPOYXtbJJgz7nMFuY5XZpoBGbQ"> 
    </script>
    <script src="JS/libs/moment.js"></script>
    <script src="JS/libs/deparam.js"></script>

    <script src="JS/util.js"></script>
    <script src="JS/guestPage.js"></script>
<script>
    setAppWithEventDetails(app, eventId)
        .then(function() {
            // now that we have the address inside app data, we can init the map from Google maps
            initMap();
        });
</script>

</body>
</html>
